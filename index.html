<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faster Finger</title>
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <div class="main">




        <div class="left">
            <img src="images/Untitled design (3) 1.png" class="big-img">
            <img src="images/logo (2).png" class="logo-img">
        </div>



        <div class="right">
            <h1>Start Your Quiz Now!</h1>
            <div class="input-upper-sec grid-box">

                <span class="input-general"><b>Instructions</b> </span>
                <span class="input-general2">1.Their will be 10 Multiple Choice Questions<br>
                    2.Read questions carefully and answer correct<br>
                    3.Their will be a fixed time set for each question<br>
                    4.For every questions points will awarded<br>
                    5.leader board will be display on projector</span>

                <span class="input-general"><b>Read Instructions carefully</b>
                </span>
            </div>



            <div class="buttom-data-sec grid-box">
                <select type="select" name="batch" id="batch-sel">
                    <option value="batch1">Batch 1</option>
                    <option value="batch2">Batch 2</option>
                    <option value="batch3">Batch 3</option>
                    <option value="batch4">Batch 4</option>
                    <option value="batch5">Batch 5</option>
                    <option value="batch6">Batch 6</option>
                    <option value="batch7">Batch 7</option>
                    <option value="batch8">Batch 8</option>
                    <option value="batch9">Batch 9</option>
                    <option value="batch10">Batch 10</option>
                    <option value="batch11">Batch 11</option>
                    <option value="batch12">Batch 12</option>
                    <option value="batch13">Batch 13</option>
                    <option value="batch14">Batch 14</option>
                    <option value="batch15">Batch 15</option>
                    <option value="batch16">Batch 16</option>
                    <option value="batch17">Batch 17</option>
                    <option value="batch18">Batch 18</option>
                    <option value="batch19">Batch 19</option>
                    <option value="batch20">Batch 20</option>
                    <option value="batch21">Batch 21</option>
                    <option value="batch22">Batch 22</option>
                    <option value="batch23">Batch 23</option>
                    <option value="batch24">Batch 24</option>
                    <option value="batch25">Batch 25</option>
                    <option value="batch26">Batch 26</option>
                    <option value="batch27">Batch 27</option>
                    <option value="batch28">Batch 28</option>
                    <option value="batch29">Batch 29</option>
                    <option value="batch30">Batch 30</option>
                </select>
                <div class="input-main-main">
                    <div class="input-main">
                        <!-- <input type="text" required class="input-bot-input" placeholder="Enter player's name" >
                         -->
                        <div class="input-field">
                            <input type="text" required class="input-inner">
                            <label>Enter Player Name</label>
                        </div>
                        <button class="input-add-btn-bot add-user">+</button>
                    </div>
                    <div class="user-list">

                    </div>
                </div>



                <input type="submit" class="submitbtn" value="Start Quiz">
            </div>



        </div>






    </div>
</body>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

<script>
    let userarray = [];
    let batch = "";
    $(document).ready(function() {
        batch = $('#batch-sel').val();
        $('select').click(function(e){
            batch = $('#batch-sel').val();
            console.log(batch);
            // console.log("hi");
        });

        $(".add-user").click(function(e) {

            
            if (!$('.input-inner').val()) {
                alert("Input Feild Empty!!")
            } else {
                $(".user-list").append(`<div class="input-main input-main2"><span class="user-name">${$(".input-inner").val()}</span>
                        <button class="input-add-btn-bot del-us" > - </button></div>`)
                userarray.push({
                    pname: $(".input-inner").val(),
                    batchno: batch
                });

                $('.input-inner').val("");
            }

            console.log(userarray);


        });

       

        $(document).on('click', '.del-us', function(e) {
            e.preventDefault();
            let row_item = $(this).parent();
            // console.log(row_item.children('span').text());
            deltex = row_item.children('span').text();
            for(a=0; a<userarray.length; a++){
                if(userarray[a].pname == deltex){
                    delindex = userarray.indexOf(userarray[a]);
                    userarray.splice(delindex,1);
                    console.log(userarray);
                    $(row_item).remove();
                }
            }


        });;

        $(document).on('click', '.submitbtn', function(e) {
            e.preventDefault();
            var jsondata = JSON.stringify(userarray);
            console.log(jsondata);

            // $.ajax({
            //     url:'http://localhost/fasterfinger/insertnames.php',
            //     type:"POST",
            //     data:jsondata,
            //     success:function(data){
            //         message(data.message);

            //         if(data.message == 'Player name inserted'){
            //             console.log("success")
            //         }
            //     }
            // });
        });

    });
</script>

</html>